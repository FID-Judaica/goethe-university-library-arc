#!/usr/bin/env python3
import sys
from pathlib import Path
import arc
import yaml
CONFIG_FILE = Path(__file__).parent/'data'/'old.yml'
decoder = arc.Decoder(yaml.safe_load(CONFIG_FILE.open()), fix_numerals=True)


def main():
    for t in map(str.rstrip, sys.stdin):
        print(t)
        for word in decoder.decode(t):
            word.prune()
            print(word)
            print(*map(repr, word.keyparts), sep='\t')
            for w in word:
                print(*map(repr, w.value), sep='\t')
        print()


if __name__ == '__main__':
    main()
